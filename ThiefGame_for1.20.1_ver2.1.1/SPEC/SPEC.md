
---

# ThiefGame

## 1. 🎮 プロジェクト情報

* **ゲーム名**: ThiefGame
* **バージョン**: ver2.0.0
* **Minecraftバージョン**: 1.20.1
* **開発目的・概要**:
  ThiefGameは、泥棒チームと館の主に分かれて館内で脱出／捕縛を競う対戦型ゲームです。
  プレイヤーは職業ごとの特殊能力を駆使して戦略的に行動し、館の構造やアイテムを活用して目的達成を目指します。

  * 泥棒チーム：脱出を目指す
  * 館の主：泥棒の全滅を目指す
* **試合時間**: 20分（ver2.0.0 テストプレイで最適化）
* **初期残機数**: 2

---

## 2. 🏰 ゲームモード概要

### ゲームの流れ

1. プレイヤーは「泥棒チーム」または「館の主」に分かれる
2. 泥棒チームは館内で鍵・アイテムを収集して脱出を目指す
3. 館の主は泥棒チームを排除する
4. 制限時間内に泥棒チームが脱出成功、または全滅した時点でゲーム終了

### 勝利条件

* **泥棒チーム**: 脱出成功
* **館の主**: 泥棒チームの全滅

### 体力・残機

* 泥棒チーム体力: 40
* 体力が20以下になると「ダウン状態」

  * ダウン中は体力増強エフェクトが切れる
  * 這って移動、はしご・階段・段差を登れない
  * 5秒ごとに2ダメージ
  * 死亡すると残機を消費
* 残機: デフォルト2、変更可能
* 館のチェストには回復アイテム（パン・治癒スプラッシュポーション・クールタイム減少玉）がランダムで配置

---

## 3. 🕵️‍♂️ 謎解き要素（ver1.0仕様）

### 謎1: 単純探索

* **目的**: 鍵の持ち手と先端を発見し作業台で宝物庫の鍵を作成
* **入手場所**: 屋上、1階、3階
* **進行条件**: 屋上の2階の鍵を入手すると次に進める
* **報酬**: 宝物庫には脱出に必要なレッドストーンブロック

### 謎2: Discord パスワード入力

* **方法**: 「なれっと パスワード何？」とDiscordで入力
* **答え**: 3桁の数字 `348`
* **報酬**: 魔法のガラス（別館渡り廊下修復用）

### 謎3: 6色シュルカーボックス

* **方法**: 赤→青→黄→緑→紫→橙の順に6桁番号を入力
* **注意点**: 青・黄・紫は逆さま表示（正解は9と3など）
* **報酬**: 白色ガラス破壊ツール
* **入力コード**: `G86U3P`

### 謎4: 6色コンクリートパズル

* **条件**: 同色が隣接・対角線にないように設置
* **入手方法**: 謎3のシュルカーボックスから取得

### 謎5: コア設置で浮遊

* **方法**: 謎1で入手したコアを最奥部に設置 → レバー操作で装置起動
* **報酬**: 上階への浮遊、脱出成功
* **ゲーム終了条件**: 泥棒全員が脱出または死亡

---

## 4. 🗺️ エリア構造と進行

### エリア1: 本館1階・3階・屋上・中庭

* **目的**: 屋上のチェストから2階の鍵を入手
* **LootTable**:

  * 本館1階・3階・屋上チェスト: `common`
  * 本館1階・3階ランダム2箇所: `key1_common`、`key2_common`（乱数生成でスコア値を比較して配置）
  * 屋上: 2階の鍵用LootTable（スコア比較あり）

### エリア2: 本館2階

* **目的**:

  * 本館1階・3階の鍵パーツを作業台で合成 → 宝物庫の鍵入手
  * 宝物庫には「コア」があり、最後の一人の脱出手段として使用可能（必須ではない）
* **数字盤パズル**:

  * 中央の3つの数字盤を右クリックで0~9上昇
  * 毎ゲーム乱数で正解パターン生成
  * 正解するとレッドストーンランプが点灯
  * 全点灯後ボタンを押すとエリア3のキーアイテム入手（繰り返し取得可能）
* **LootTable**: `uncommon`

### エリア3: 別館1階・2階

* **LootTable**: `rare`

### エリア4: 脱出口

* **脱出口種類**: 2種類
* **条件**: 扉前でスニーク → 解錠進行（確率によって速度変動）
* **残り1人時**: 従来の脱出装置起動可能 → コア取得必須ではなく戦略性が向上

### 館内ギミック

* **鉄の柵**: レバー操作で5秒間通路封鎖、30秒後レバー復活
* **ブレーカーダウン**: 別館レバー操作 → 別館の電気OFF、泥棒の透明化5秒毎に切替、館の主が上げるまで継続（1回限り）
* **バリケード**: 光る家具を右クリック → 扉前配置、館の主が5回クリックで破壊可能（1回限り）

---

## 5. 🧰 アイテム一覧

### 回復・補助

* **パン**: 回復用
* **治癒のスプラッシュポーション**
* **クールタイム減少玉**

### 新規アイテム（ver2.0.0）

* **煙玉**: 小さめの煙、追加効果なし
* **フラッシュランタン**: 周囲5ブロックの館の主をスタン＋盲目
* **危機管理センサー**: インベントリに配置、館の主接近時音で警告、被弾で破壊
* **超加速ポーション**: 短時間超加速、終了後移動速度低下

### 特殊アイテム

* **魔法のガラス**: 別館渡り廊下修復
* **白色ガラス破壊ツール**: 謎3報酬
* **コア**: 浮遊装置起動／最後の脱出手段

---

## 6. 🧙‍♂️ 職業能力・スキル

### 6.1 忍者 (Ninja)

* **パッシブ**

  * スニーク・クロール速度上昇（普通の歩行速度）
  * クロール中にスピードエフェクト付与
* **スキル1: 透明化**

  * 40秒（ver2.0.0）
* **スキル2: 煙幕**

  * 範囲内の自身と味方に透明化付与
  * クールタイム短縮

---

### 6.2 技術者 (Engineer)

* **パッシブ**

  * 地雷近くの鬼に発光付与
* **スキル1: 地雷設置**

  * 鬼にだけ作動する
  * 2個まで設置可能、3個目設置で古いもの破壊
  * 設置後1分クールタイム
  * 設置中は移動不可（前隙）
* **スキル2: テレポート地点設置**

  * 鬼に見えず使用可能
  * 設置後3分経過か再使用で消滅
  * 3分クールタイム

---

### 6.3 超能力者 (Psychic)

* **パッシブ**

  * 鬼の5秒前の位置にパーティクル表示
  * 毎tickスコア上昇、防具立て召喚（5秒経過で消滅）
* **スキル1: 発光＋移動速度低下**

  * 視点範囲内の鬼に発光付与
  * 2マスごとに防具立て召喚
  * クールタイム1分
* **スキル2: 鬼への発光**

  * 5秒間発光、近すぎると自分も発光
  * クールタイム2分

---

### 6.4 看護師 (Nurse)

* **パッシブ**

  * 味方の復活速度2倍
* **スキル1: 全体回復**

  * 周囲の味方体力を全回復
  * クールタイム1分
* **スキル2: ダウン味方へテレポート**

  * クールタイム7分

---

### 6.5 復讐者 (Avenger) ✅

* **パッシブ**

  * 攻撃を受けるたび復讐心上昇（死亡でリセット）
  * 復讐心効果:

    * 5: 跳躍力+2
    * 10: 移動速度+1
    * 15: 耐性1 + 再生1
* **スキル1: アドレナリン** ✅

  * 一瞬無敵、無敵中攻撃を受けなければダウン
* **スキル2: 憤怒の心** ✅

  * 周囲の館の主をスタン
  * 復讐心に応じ範囲・時間増加

| 復讐心  | 範囲  | 時間  |
| ----  | ---  | ---  |
| 0  | 1  | 1  |
| 5  | 3  | 3  |
| 10  | 5  | 5  |
| 15  | 10  | 10  |

---

### 6.6 時間魔術師 (Chronomancer)

* **パッシブ**

  * 時間停止中、移動速度上昇＋透明化
* **スキル1: 月の砂時計**

  * 時間停止、館の主スタン、攻撃・スキル無効
  * 館のエリア進行も停止
  * 使用回数ごとに時間短縮（最短1秒）
* **スキル2: 太陽の懐中時計**

  * 所持中、移動速度・スキルクールタイム加速（泥棒・館の主全員対象）

---

## 7. 🏰 館の主能力

### 共通パッシブ

* **スニーク走行**: スニーク状態でしばらく走れるようになり、移動速度上昇

### 能力別パッシブ・スキル

#### 聡明 (Sage)

* **スキル1**: 血痕右クリック

  * 泥棒全員の位置を特定して発光付与
  * 自身に透明化付与
  * **職業相性**

    * ○ 忍者
    * △ 技術者、看護師、復讐者、時間魔術師
    * ✖ 超能力者

#### 猛進 (Berserker)

* **スキル1**: スニークジャンプ

  * 短時間超移動速度上昇
  * **職業相性**

    * ○ 超能力者、復讐者
    * △ 看護師、時間魔術師
    * ✖ 忍者、技術者

#### 逆境 (Underdog)

* **パッシブ**: 序盤攻撃力低、攻撃時スタン長
* **成長型**: エリア進行で攻撃力向上、最終的に他能力より強力
* **職業相性**

  * ○ 看護師、時間魔術師
  * △ 忍者、技術者、超能力者
  * ✖ 復讐者

#### 博徒 (Gambler)

* **パッシブ**: 一定時間ごとに攻撃力変動

  * パーティクルで攻撃力表示
* **職業相性**

  * ○ 復讐者
  * △ 忍者、技術者、超能力者、看護師
  * ✖ 時間魔術師

---

### 攻撃・状態

* **げんこつ（左クリック）**: 7ダメージ
* **シフト中**: 空腹度回復、非シフト時は空腹付与
* **常時移動速度低下付与**
* **ダウン中の泥棒攻撃不可**
* **攻撃後スタン**（未完全、interaction召喚によるバグ検証中）

---

## 8. ⚡ ダウン・復活システム

### ダウン状態

* 条件: 体力 ≤ 20
* 効果:

  * 体力増強エフェクト消滅
  * クロール移動強制（はしご・階段・段差登れず）
  * 5秒ごとに2ダメージ
  * 頭上に透明シュルカー（魂の見た目）
  * 泥棒チームにのみビーム状パーティクル表示

### 蘇生

* 右クリックで5秒間蘇生完了
* 復活後体力最低21
* 残機消費: 残機0で完全死亡
* ダウン中もアイテム使用可能（延命可）

### 復活関連改善（ver2.0.0）

* デスカウント検知に即時体力回復 ✅
* ダウン時の通知 ✅
* 怪しい薬配布 ✅

  * 即死するが5%の確率で復活

### キャンプ対策

* ダウン中のプレイヤーが近くにいると館の主の移動速度と攻撃力減少
* effect処理は実装済み（値は調整可能）

---

## 9. 🎯 ゲームバランス・パラメーター

### 試合条件

* **制限時間**: 20分
* **初期残機**: 2
* **泥棒体力**: 40

  * 体力 ≤ 20 でダウン状態

### 残機

* デフォルト: 2
* 残機0で観戦

### チェストLootTable

* 本館1階・3階・屋上: `common`
* 本館1階・3階ランダム2箇所: `key1_common`、`key2_common`
* 本館2階: `uncommon`
* 別館1階・2階: `rare`

### 泥棒職業バランス（ver2.0.0）

* パッシブ、スキル1、スキル2: 10点満点で評価
* 館の主との相性点 ×5で総合評価計算
* **総合評価例**

| 職業    | PS | S1 | S2 | 合計 | 相性    | 総合評価  |
| ----- | -- | -- | -- | -- | ----- | ----- |
| 忍者    | 3  | 8  | 6  | 17 | +1,-1 | 17/50 |
| 技術者   | 2  | 6  | 9  | 17 | +1,-0 | 22/50 |
| 超能力者  | 6  | 6  | 8  | 20 | +1,-1 | 20/50 |
| 看護師   | 8  | 8  | 9  | 25 | +0,-1 | 20/50 |
| 復讐者   | 9  | 8  | 5  | 21 | +1,-2 | 17/50 |
| 時間魔術師 | 6  | 10 | 6  | 22 | +1,-1 | 27/50 |

### 出血システム

* ダメージを受けると一定時間毎に足元に血痕発生

---

## 10. 🗝️ ギミック・アイテム・エリアフロー

### 謎解きモード

* **廃止**

  * ゲームモードのみでプレイ可能
  * 謎解き単体のモードは不要

---

### ゲーム内ギミック

#### 館の改修と脱出フロー

* **制限時間**: 20分
* **初期残機**: 2
* **エリア分けとキーアイテム進行**

| エリア                 | 内容                                                                                            |
| ------------------- | --------------------------------------------------------------------------------------------- |
| エリア1: 本館1階・3階・屋上・中庭 | 屋上のチェストに2階の鍵                                                                                  |
| エリア2: 本館2階          | 本館1・3階の鍵パーツを作業台に投げると宝物庫の鍵取得（必須ではない）<br>中央の数字盤で乱数生成による正解パターンを入力、レッドストーンランプで確認、成功でエリア3のキーアイテム取得 |
| エリア3: 別館1階・2階       | 複数のチェストにキーアイテム出現                                                                              |
| エリア4: 脱出口2種         | スニークで解錠進行、確率で速さ変動、残り一人時に脱出装置起動可能                                                              |

* **戦略性**: コアの取得は必須ではなく、最短ルートか寄り道か選択可能
* **障害物・家具**: 身を隠しやすい配置

---

### ギミック詳細

#### 鉄の柵

* レバー操作で5秒間降下、通れなくなる
* 復帰: レバーが30秒後に再使用可能

#### ブレーカーダウン

* 別館のレバー操作で別館の電気オフ
* 効果: 泥棒チームの透明化切り替え5秒ごと
* 館の主がレバーを操作するまで継続
* 使用制限: 1回のみ

#### バリケード

* 光る家具を右クリックで扉前に設置
* 効果: 扉を塞ぐ
* 館の主は5回クリックで解除可能
* 使用制限: 1回のみ

---

### アイテム一覧（ver2.0.0）

| アイテム名         | 効果                         |
| ------------- | -------------------------- |
| パン            | 回復アイテム（LootTable設定済み）      |
| クールタイム減少玉     | スキルクールタイム短縮                |
| 治癒スプラッシュポーション | 周囲味方回復                     |
| 煙玉            | 小型煙幕、追加効果なし                |
| フラッシュランタン     | 周囲5ブロックの館の主をスタン＋盲目         |
| 危機管理センサー      | インベントリ配置で館の主接近時に音で警告、被弾で破壊 |
| 超加速ポーション      | 短時間超加速、終了後に移動速度低下          |
| 怪しい薬          | 使用すると即死、5%で復活（ダウン時配布）      |

---

## 11. 🎮 ゲームフロー総合

### チーム構成

* **館の主**: 1名
* **泥棒チーム**: 複数名
* 目標:

  * **館の主**: 泥棒全滅
  * **泥棒**: 脱出

### 泥棒行動

* 選択職業によりスキル・パッシブ使用
* 残機・体力管理
* アイテム入手・使用
* エリア進行と脱出の戦略選択

### 脱出条件

* すべての泥棒が脱出、または死亡でゲーム終了
* 最後の一人になった場合、脱出装置起動で脱出可能

### ゲーム内通知

* ダウン時通知 ✅
* エリア進行通知
* 残機・体力変動パーティクル

### 特記事項

* ギミック・アイテムは戦略性を生む
* 時間経過・エリア進行・運要素を組み合わせたバランス調整

---